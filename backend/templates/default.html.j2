
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>{{ title | default("命名書") }}</title>

  <style>
    @page { size: A4; margin: 0; }

    html, body { height: 100%; }

    @font-face {
      font-family: "Tamanegi";
      src: url("static/fonts/tamanegi.ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
    }

    :root{
        --paper-w: 210mm;
        --paper-h: 297mm;

        /* 文字が巨大になるので、余白も少し増やす（18→22mm） */
        --margin-top: 22mm;
        --margin-right: 22mm;
        --margin-bottom: 22mm;
        --margin-left: 22mm;

        --paper-bg: #fff;
        --ink: #111;
        --sub-ink: #333;

        /* フォントサイズを2倍 */
        --fs-name: 52mm;  /* 26mm → 52mm */
        --fs-ruby: 16mm;  /*  8mm → 16mm */
        --fs-date: 14mm;  /*  7mm → 14mm */
        --fs-seal: 14mm;  /*  7mm → 14mm */

        /* 行間はそのまま（変えると“間延び”しやすい） */
        --lh-tight: 1.1;
        --lh-normal: 1.35;
    }

    body{
      margin: 0;
      padding: 0;
      background: #555;
      color: var(--ink);
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    .page{
      width: var(--paper-w);
      height: var(--paper-h);
      background: var(--paper-bg);
      margin: 0 auto;
      padding: var(--margin-top) var(--margin-right) var(--margin-bottom) var(--margin-left);
      font-family: "Tamanegi", "Noto Serif JP", "Hiragino Mincho ProN", "Yu Mincho", serif;
      box-sizing: border-box;
    }

    /* ここが肝：3段レイアウトで中央段をガチ中央に固定 */
    .frame{
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      box-sizing: border-box;
    }

    .top-spacer{
      flex: 1;
    }

    .center{
      flex: 0;
      display: flex;
      flex-direction: column;
      align-items: center;   /* 横中央 */
      justify-content: center;
      text-align: center;
      gap: 4mm;
    }

    .bottom{
      flex: 1;
      display: flex;
      align-items: flex-end;          /* 下寄せ */
    }

    .meta{
      width: 100%;
      display: flex;
      justify-content: space-between; /* 左右に分ける */
      align-items: flex-end;
      font-size: var(--fs-date);
      color: var(--sub-ink);
    }

    .name{
      font-size: var(--fs-name);
      letter-spacing: 0.04em;
      line-height: var(--lh-tight);
      max-width: calc(var(--paper-w) - var(--margin-left) - var(--margin-right));
      overflow-wrap: anywhere;
      word-break: keep-all;
    }

    .ruby{
      font-size: var(--fs-ruby);
      letter-spacing: 0.06em;
      line-height: var(--lh-normal);
      color: var(--sub-ink);
    }

    .date{ white-space: nowrap; text-align: left; }
    .seal{ white-space: nowrap; text-align: right; }

    *{ box-sizing: border-box; }
  </style>
</head>

<body>
  <div class="page">
    <div class="frame">

      <div class="top-spacer"></div>

      <div class="center">
        {% if ruby %}
          <div class="ruby">{{ ruby }}</div>
        {% endif %}
        <div class="name">{{ name | default("名前") }}</div>
      </div>

      <div class="bottom">
        <div class="meta">
          <div class="date">{{ date | default("令和7年") }}</div>
          <div class="seal">{{ issuer | default("") }}</div>
        </div>
      </div>

    </div>
  </div>
</body>
</html>
